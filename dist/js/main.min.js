const body=document.querySelector("body"),html=document.querySelector("html"),menu=document.querySelectorAll(".header__burger, .header__nav, .header, body"),burger=document.querySelector(".header__burger"),wrapper=document.querySelector(".wrapper"),header=document.querySelector(".header");function Popup(e){let t=document.querySelector("body"),r=document.querySelector("html"),i="object"==typeof e&&!!e.saveHref,o=!0,s=!0;const n=function(e,s){if(o){o=!1;let n=document.querySelector(e);if(!n)return new Error(`Not found "${e}"`);{const l=n.querySelector(".popup-video");l&&(l.querySelector("iframe")||l.insertAdjacentHTML("beforeend",`<iframe src="${l.dataset.src}${l.dataset.id}" width="640" height="360" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>`)),t.classList.remove("_popup-active"),r.style.setProperty("--popup-padding",window.innerWidth-t.offsetWidth+"px"),t.classList.add("_popup-active"),i&&history.pushState("","",e),setTimeout(()=>{if(s)n.classList.add("_transition-none"),n.classList.add("_active"),o=!0;else{n.classList.add("_active"),n.addEventListener("transitionend",(function e(){o=!0,n.removeEventListener("transitionend",e)}))}},0)}}},l=function(e){if(s){let o;s=!1,o="string"==typeof e?document.querySelector(e):e.closest(".popup"),o.classList.contains("_transition-none")&&o.classList.remove("_transition-none"),setTimeout(()=>{o.classList.remove("_active"),o.addEventListener("transitionend",(function e(){const n=document.querySelectorAll(".popup._active");n.length<1&&(t.classList.remove("_popup-active"),r.style.setProperty("--popup-padding","0px")),i&&(!function(){let e=window.location.toString();if(e.indexOf("#")>0){let t=e.substring(0,e.indexOf("#"));window.history.replaceState({},document.title,t)}}(),n[n.length-1]&&history.pushState("","","#"+n[n.length-1].getAttribute("id"))),s=!0,o.removeEventListener("transitionend",e),o.querySelector(".grid-gallery-popup__slider")&&o.querySelector(".grid-gallery-popup__slider").classList.remove("_visible")}))},0)}};return{open:function(e){n(e)},close:function(e){l(e)},init:function(){let e;if(t.addEventListener("click",(function(t){e=t.target;let r=e.closest(".open-popup");r&&(t.preventDefault(),n(r.getAttribute("href")));let i=e.closest(".popup-close");i&&l(i)})),i){let e=new URL(window.location);e.hash&&n(e.hash,!0)}}}}const popup=new Popup;popup.init();const deviceType=()=>{const e=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)?"tablet":/Mobile|Android|iP(hone|od)|IEMobile|BlackBerry|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(e)?"mobile":"desktop"},headerNavItem=document.querySelectorAll(".header__nav--item");headerNavItem.forEach(e=>{e.insertAdjacentHTML("beforeend",'<svg viewBox="0 0 129 41" width="0" height="0" preserveAspectRatio="none" class="hover-line">\n\t\t<use xlink:href="img/sprites.svg#link-line"></use>\n\t</svg>')}),document.querySelectorAll("select").forEach(e=>{new SlimSelect({select:e,showSearch:!1})});let resizeCheck=[0,0];function resize(){resizeCheck[0]=window.innerWidth,resizeCheck[0]!=resizeCheck[1]&&(resizeCheck[1]=window.innerWidth,html.style.setProperty("--height-header",header.offsetHeight+"px")),html.style.setProperty("--height-screen",window.innerHeight+"px")}resize(),window.onresize=resize;const eventElement=document.querySelector(".event");let galleryFastIntro,gallerySlider=new Swiper(".gallery__slider",{effect:"fade",spaceBetween:24,centeredSlides:!0,slidesPerView:1,loop:!0,speed:500,pagination:{el:".gallery__slider--pagination.swiper-pagination",clickable:!0},breakpoints:{992:{navigation:{nextEl:".gallery__slider--arrow.swiper-button-next",prevEl:".gallery__slider--arrow.swiper-button-prev"}}}}),ambasadorsSlider=new Swiper(".ambasadors__slider",{slidesPerView:1,spaceBetween:24,pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{992:{slidesPerView:3,spaceBetween:115},550:{slidesPerView:2}}}),gridGalleryPopupList=new Swiper(".grid-gallery-popup__list",{slidesPerView:"auto",spaceBetween:10}),gridGalleryPopupSlider=new Swiper(".grid-gallery-popup__slider",{slidesPerView:1,spaceBetween:30,autoHeight:!0,grabCursor:!0,speed:700,thumbs:{swiper:gridGalleryPopupList},breakpoints:{992:{navigation:{nextEl:".grid-gallery-popup__slider--arrow.swiper-button-next",prevEl:".grid-gallery-popup__slider--arrow.swiper-button-prev"}}}});const mainIntroLogo=document.querySelectorAll(".main-intro__logo");mainIntroLogo.forEach(e=>{let t=document.querySelectorAll(".main-intro__gallery");e.addEventListener("mouseenter",(function(){"desktop"==deviceType()&&(galleryFastIntro&&galleryFastIntro.destroy(!0,!0),e.classList.add("_active"),t.forEach(e=>{e.classList.add("_active")}),galleryFastIntro=new Swiper(".main-intro__gallery--slider",{effect:"fade",autoplay:{delay:150},speed:150,loop:!0,slidesPerView:1}))})),e.addEventListener("mouseleave",(function(){"desktop"==deviceType()&&(e.classList.remove("_active"),t.forEach(e=>{e.classList.remove("_active")}),setTimeout(()=>{galleryFastIntro&&galleryFastIntro.destroy(!0,!0)},200))}))}),body.addEventListener("click",(function(e){function t(t){return e.target.closest(t)}t(".header__burger")&&menu.forEach(e=>{e.classList.toggle("_active"),window.scroll({top:0,left:0})});const r=t(".header__nav--link"),i=document.querySelector(".header__nav--item._sub-active");if(r){const t=r.closest(".header__nav--item");t.querySelector(".header__nav-sub")&&(t.classList.contains("_sub-active")||"mobile"!=deviceType()&&"tablet"!=deviceType()||(e.preventDefault(),t.classList.add("_sub-active")))}else i&&i.classList.remove("_sub-active");const o=t(".video-preview");if(o){const e=o.closest(".video-wrapper").querySelector(".video-element");o.classList.add("_hidden"),e.play()}const s=t(".grid-gallery__image");if(s){const e=!!s.dataset.gridGalleryIndex&&Number(s.dataset.gridGalleryIndex);e&&gridGalleryPopupSlider?gridGalleryPopupSlider.slideTo(e-1,0):0==e&&gridGalleryPopupSlider&&gridGalleryPopupSlider.slideTo(0,0),gridGalleryPopupSlider.el&&setTimeout(()=>{gridGalleryPopupSlider.el.classList.add("_visible")},400)}const n=t(".faq__item");if(n&&!n.classList.contains("_animating")){n.classList.add("_animating");const e=n.querySelector(".faq__item--content");if(n.classList.contains("_active")){e.style.transitionProperty="height",e.style.display="block";const t=e.offsetHeight;function l(){e.style.removeProperty("transition-property"),e.style.display="none",e.style.removeProperty("height"),n.classList.remove("_animating"),e.removeEventListener("transitionend",l)}e.style.height=t+"px",e.addEventListener("transitionend",l),setTimeout(()=>{e.style.height=0,n.classList.remove("_active")},0)}else{const t=document.querySelector(".faq__item._active");if(t){const e=t.querySelector(".faq__item--content");t.classList.add("_animating"),e.style.transitionProperty="height",e.style.display="block";const r=e.offsetHeight;function l(){e.style.removeProperty("transition-property"),e.style.display="none",e.style.removeProperty("height"),t.classList.remove("_animating"),e.removeEventListener("transitionend",l)}e.style.height=r+"px",e.addEventListener("transitionend",l),setTimeout(()=>{e.style.height=0,t.classList.remove("_active")},0)}n.classList.add("_active"),e.style.removeProperty("height"),e.style.display="block";const r=e.offsetHeight;e.style.height=0,e.style.transitionProperty="height",e.addEventListener("transitionend",(function t(){e.style.removeProperty("transition-property"),e.style.removeProperty("height"),n.classList.remove("_animating"),e.removeEventListener("transitionend",t)})),setTimeout(()=>{e.style.height=r+"px"},0)}}const a=t(".main-intro__logo"),d=document.querySelector(".main-intro__logo._active");if(a&&"desktop"!=deviceType()){let e=document.querySelectorAll(".main-intro__gallery");a.classList.contains("_active")?(a.classList.remove("_active"),e.forEach(e=>{e.classList.remove("_active")}),setTimeout(()=>{galleryFastIntro&&galleryFastIntro.destroy(!0,!0)},200)):(galleryFastIntro&&galleryFastIntro.destroy(!0,!0),a.classList.add("_active"),e.forEach(e=>{e.classList.add("_active")}),galleryFastIntro=new Swiper(".main-intro__gallery--slider",{effect:"fade",autoplay:{delay:150},speed:150,loop:!0,slidesPerView:1}))}else if(d&&"desktop"!=deviceType()){let e=document.querySelectorAll(".main-intro__gallery");d.classList.remove("_active"),e.forEach(e=>{e.classList.remove("_active")}),setTimeout(()=>{galleryFastIntro&&galleryFastIntro.destroy(!0,!0)},200)}}));var clipboard=new ClipboardJS(".copy-btn");const radioInputs=document.querySelectorAll(".radio-input");let animCheck=!1;function radioInputsChange(e,t=300){if(animCheck=!0,e.dataset.id&&e.checked){slideDown(document.querySelector("#"+e.dataset.id),t),setTimeout(()=>{animCheck=!1},t)}else{const r=e.closest(".radio-row");r&&r.querySelectorAll(".radio-input").forEach(e=>{if(e.dataset.id&&!e.checked){slideUp(document.querySelector("#"+e.dataset.id),t)}}),setTimeout(()=>{animCheck=!1},t)}}radioInputs.forEach(e=>{radioInputsChange(e,0),e.addEventListener("change",(function(){animCheck?setTimeout(()=>{radioInputsChange(e)},300):radioInputsChange(e)}))});const inputs=document.querySelectorAll(".input, .textarea");inputs.forEach(e=>{e.addEventListener("focus",(function(){e.closest("label").classList.add("focus")})),e.addEventListener("blur",(function(){e.closest("label").classList.remove("focus")}))});let scrollProgress=[0,!1];function scroll(){scrollProgress[0]=Math.abs(body.getBoundingClientRect().y),scrollProgress[0]>=1.5*header.offsetHeight&&0==scrollProgress[1]?(scrollProgress[1]=!0,header.style.setProperty("--opacity","0"),setTimeout((function(){header.classList.add("_fixed"),setTimeout(()=>{header.style.setProperty("--opacity","1")},100)}),200)):scrollProgress[0]<=1.5*header.offsetHeight&&1==scrollProgress[1]&&(scrollProgress[1]=!1,header.style.setProperty("--opacity","0"),setTimeout((function(){header.style.setProperty("--opacity","1"),header.classList.remove("_fixed")}),200))}function slideUp(e,t=300){e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.boxSizing="border-box",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")},t)}function slideDown(e,t=300){e.style.removeProperty("display");let r=window.getComputedStyle(e).display;"none"===r&&(r="block"),e.style.display=r;let i=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.boxSizing="border-box",e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=i+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")},t)}scroll(),window.addEventListener("scroll",scroll),AOS.init({disable:"mobile",once:!0});